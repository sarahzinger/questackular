<div class="col-md-8">
    <div>
        <alert ng-repeat="alert in alerts" ng-show="alert.show" class="alert.type" close="closeAlert($index)">
            <div style='font-size:xx-large;'>!</div>
            <div>{{alert.msg}}</div>
        </alert>
    </div>
    <div class="panel panel-primary">
        <div class="panel-heading">
            <h3 class="panel-title">Editable Quests</h3>
            <div class="pull-right">
                <span class="clickable filter" data-toggle="tooltip" title="Toggle table filter" data-container="body">
                <i ng-click="search()" class="glyphicon glyphicon-filter"></i>
                </span>
            </div>
        </div>

        <table class="table table-hover" id="dev-table">
            <thead>
                <tr>
                    <th>Picked</th>
                    <th>Quest Title</th>
                    <th>Quest Description</th>
                    <th>Open?</th>
                    <th>Participants</th>
                </tr>
            </thead>
            <tbody>
                <!-- show 1st block if quests are inactive, and thus editable -->
                <tr ng-repeat='quest in questList' ng-if='quest.active==false'>
                    <td>
                        <input type='radio' name='pickedQuest' value='{{quest.title}}' ng-change='$parent.pickQuest(quest._id)' ng-model='$parent.selectedQuest'>
                    </td>
                    <td editable-text='quest.title'>{{quest.title}}</td>
                    <td editable-text='quest.description'>{{quest.description}}</td>
                    <td>
                        <input type='checkbox' ng-model='quest.active' checked='false' ng-change='$parent.checkOpenStatus(quest)' ng-click='(quest.active)?quest.active=false:quest.active=true;' />
                    </td>
                    <td editable-text='quest.participants'>
                        <span ng-if='quest.participants.length>0'>{{quest.participants}}</span>
                        <span ng-if='quest.participants.length<=0'>No participants yet!</span>
                    </td>
                </tr>
                <!-- show 2nd block if quests are active, and thus ineditable -->
                <tr ng-repeat='quest in questList' ng-if='quest.active==true'>
                    <td>
                        <input type='radio' name='pickedQuest' value='{{quest.title}}' ng-change='$parent.pickQuest(quest._id)' ng-model='$parent.selectedQuest' disabled title='You can&rsquo;t edit an active quest!'>
                    </td>
                    <td>{{quest.title}}</td>
                    <td>{{quest.description}}</td>
                    <td>
                        <input type='checkbox' ng-model='quest.active' ng-change='$parent.checkOpenStatus(quest)' ng-click='(quest.active)?quest.active=false:quest.active=true;' />
                    </td>
                    <td>
                        <span ng-if='quest.participants.length>0'>{{quest.participants}}</span>
                        <span ng-if='quest.participants.length<=0'>No participants yet!</span>
                    </td>
                </tr>
            </tbody>
        </table>
    </div>
    <button ng-click='$parent.showData()'>SHOW DATA. ALSO DELETE ME. HI EVERYONE</button>
    <div class="form-group">
        <div class="col-sm-offset-2 col-sm-10">
            <div class="pull-right">
                <button type="button" class="btn btn-success" ng-click='$parent.saveFullQuest()'>Save</button>
                <button class="btn btn-primary" ui-sref="{{ tabs[1].state && !tab.disabled}}" ng-click="tabs[1].active = true">Next</button>
                <button class="btn btn-default btn clearButton" ng-click="$parent.clearData();">Clear</button>
            </div>
        </div>
    </div>
</div>